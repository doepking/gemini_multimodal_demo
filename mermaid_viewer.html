<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mermaid Diagram Viewer</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@latest/dist/mermaid.min.js"></script>
    <style>
        body { display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; background-color: #f0f0f0; padding: 20px; box-sizing: border-box; } /* Added min-height and padding */
        .mermaid { background-color: white; padding: 20px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); max-width: 100%; } /* Added max-width */
    </style>
</head>
<body>
    <div class="mermaid">
graph TD
    A["User"] --> B{"Input Type?"}
    B -- Text --> C["Text Input via st.chat_input"]
    B -- Audio --> D["Audio Input via audiorecorder"]
    C --> E{"Process Input"}
    D --> E
    E --> G["Add User Input to History"]
    G --> H["Display User Input"]
    H --> I("utils.get_chat_response")
    I --> J["Add Assistant Response to History"]
    J --> K["Display Assistant Response"]
    K --> A
    style I fill:#f9f,stroke:#333,stroke-width:2px;
    </div>
    <script>
        mermaid.initialize({
            startOnLoad: true,
        });
    </script>
</body>
</html>
